import{h as e,f as r,j as t,o as n,w as a,c as l,r as s,k as c,a as i,a1 as o}from"./BfbKYXm_.js";const d=e=>"string"!=typeof e?"":e.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"').replace(/'/g,"&#039;"),p=e=>{switch(e.type){case"paragraph":const r=u(e.children);return`<p>${""===r.trim()?"&nbsp;":r}</p>`;case"heading":{const r=e.tag||"h2";let t="";return"h2"===r?t="tracking-tight text-3xl leading-tight mb-4 max-md:text-2xl max-sm:text-xl":"h3"===r&&(t="text-2xl leading-8 max-sm:text-lg max-sm:leading-7 text-center mb-3"),t?`<${r} class="${t}">${u(e.children)}</${r}>`:`<${r}>${u(e.children)}</${r}>`}case"list":const t="ol"===e.tag?"ol":"ul";return`<${t}>${u(e.children)}</${t}>`;case"listitem":return`<li>${u(e.children)}</li>`;case"link":let n=e.fields?.url||"#",a=!1;if("internal"===e.fields?.linkType&&e.fields?.doc?.value?.slug){const r=e.fields.doc.relationTo,t=e.fields.doc.value.slug;n="wiki-pages"===r?`/wiki/${t}`:"registry-pages"===r?`/registry/${t}`:`/${t}`,a=!1}else a=/^(https?:)?\/\//.test(n);if(a||e.fields?.newTab){const r=' target="_blank" rel="noopener noreferrer"';return`<a href="${d(n)}"${r}>${u(e.children)}</a>`}return`<a href="${d(n)}" data-nuxt-link>${u(e.children)}</a>`;case"text":{let r=d(e.text);const t=e.format??0;return 1&t&&(r=`<strong>${r}</strong>`),2&t&&(r=`<em>${r}</em>`),8&t&&(r=`<u>${r}</u>`),4&t&&(r=`<s>${r}</s>`),16&t&&(r=`<code>${r}</code>`),r}case"linebreak":return"<br>";case"code":const l=u(e.children),s=e.text?d(e.text):"";return`<pre class="whitespace-pre-wrap"><code>${l||s}</code></pre>`;case"block":if("codeBlock"===e.fields?.blockType){return`<pre class="whitespace-pre-wrap"><code class="language-javascript">${d(e.fields?.code||"")}</code></pre>`}return`\x3c!-- Unsupported block type: ${e.fields?.blockType} --\x3e`;default:return"children"in e&&Array.isArray(e.children)?u(e.children):(console.warn("Unsupported/Unknown rich text node type:",e.type,e),"")}},u=e=>e?.map(p).join("")||"";const g=["innerHTML"],h=r({__name:"ContentBlock",props:{block:{type:Object,required:!0}},setup(r){const d=r,p=e((()=>d.block?.content?.root)),{renderedHtml:h}=($=p,{renderedHtml:e((()=>{if(!$.value?.children)return"";try{return u($.value.children)}catch(e){return console.error("Error rendering custom Lexical content:",e),"<p>Error rendering content.</p>"}}))});var $;return(e,r)=>{const d=o;return n(),t(d,null,{fallback:a((()=>r[0]||(r[0]=[i("div",{class:"py-4"},"Loading content...",-1)]))),default:a((()=>[c(h)?(n(),l("div",{key:0,class:"prose max-w-none dark:prose-invert",innerHTML:c(h)},null,8,g)):s("",!0)])),_:1})}}});export{h as _};
