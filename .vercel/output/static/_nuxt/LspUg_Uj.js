import{f as e,s as l,c as a,o as t,a as o,r,I as n,k as c,z as s,t as d,B as u,a3 as i,a6 as b,a9 as m,d as p,b as k,w as y,e as f,n as g,D as v,_ as x}from"./BfbKYXm_.js";const h={class:"contact-form-content-section py-8"},w={class:"container mx-auto px-4 sm:px-6 lg:px-8"},T={class:"flex flex-col md:flex-row gap-8 lg:gap-12 items-center"},j={class:"left-content-column md:w-1/2 space-y-6 flex flex-col justify-center order-2 md:order-2 lg:order-1"},q=["src","alt"],I={key:1,class:"inline-block self-start"},N={class:"text-sm font-medium bg-brandTheme-02 text-brandNeutral-04 px-3 py-1 rounded-full"},F={key:2,class:"text-3xl lg:text-4xl font-bold text-brandNeutral-04"},C={key:3,class:"text-brand-gray-50 text-3xl italic leading-snug border-l-4 border-brand-gray-300 pl-6 py-4 max-w-none"},B=["src","alt"],S={class:"right-form-column md:w-1/2 flex order-1 md:order-1 lg:order-2"},M={class:"form-card w-full bg-brandNeutral-02 p-8 md:p-10 rounded-xl shadow-xl flex flex-col"},P={key:0,class:"text-xl font-bold text-brandNeutral-04 mb-6 text-center"},_={key:0},E=["required"],U={key:1},V=["required"],L={key:2},Y=["required"],A={key:3,class:"flex-grow flex flex-col"},D={for:"contact-message",class:"block text-base font-medium text-brandNeutral-03 mb-1"},O=["required"],W={key:4,class:"pt-1"},z={class:"flex items-center"},$=["required"],H={for:"agree-privacy-contact",class:"ml-2 block text-sm text-brandNeutral-03"},J={class:"pt-1"},G={key:0},K={key:1},Q={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5 ml-2"},R=x(e({__name:"ContactFormBlock",props:{block:{type:Object,required:!0}},setup(e){const x=l(""),R=l(""),X=l(""),Z=l(""),ee=l(""),le=l(!1),ae=l("idle"),te=l(""),oe=e,{getMediaUrl:re}=s(),ne=async()=>{if(oe.block.link&&oe.block.link.type&&!le.value)return ae.value="error",void(te.value="You must agree to the privacy policy.");ae.value="loading",te.value="";const e={name:oe.block.showNameField?x.value:void 0,email:R.value,company:oe.block.showCompanyField?X.value:void 0,subject:oe.block.showSubjectField?Z.value:void 0,message:oe.block.showMessageField?ee.value:void 0,recipientEmail:oe.block.recipientEmail};try{const l=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await l.json();l.ok?(ae.value="success",te.value=a.message||"Message sent successfully!",x.value="",R.value="",X.value="",Z.value="",ee.value="",le.value=!1):(ae.value="error",te.value=a.message||"An error occurred. Please try again.")}catch(l){console.error("Contact form submission error:",l),ae.value="error",te.value="A network error occurred. Please try again."}},ce=e=>{if(!e)return"#";if("internal"===e.type&&e.internalLink){const l=e.internalLink;if("object"==typeof l&&null!==l&&"slug"in l&&"string"==typeof l.slug)return`/${l.slug}`;if("string"==typeof l)return l.startsWith("/")?l:`/${l}`}return"external"===e.type&&e.externalLink?e.externalLink:"#"};return(l,s)=>{const oe=f;return t(),a("section",h,[o("div",w,[o("div",T,[o("div",j,[e.block.contentImage&&"above"===e.block.contentImagePosition?(t(),a(n,{key:0},["object"==typeof e.block.contentImage&&e.block.contentImage.url?(t(),a("img",{key:0,src:c(re)(e.block.contentImage),alt:e.block.contentImage.alt||e.block.contentTitle||"Content Image",class:"w-3/5 h-auto object-cover rounded-lg shadow-md mb-6"},null,8,q)):r("",!0)],64)):r("",!0),e.block.contentEyebrow?(t(),a("div",I,[o("p",N,d(e.block.contentEyebrow),1)])):r("",!0),e.block.contentTitle?(t(),a("h2",F,d(e.block.contentTitle),1)):r("",!0),e.block.contentDescription?(t(),a("div",C,[o("p",null,d(e.block.contentDescription),1)])):r("",!0),e.block.contentImage&&"below"===e.block.contentImagePosition?(t(),a(n,{key:4},["object"==typeof e.block.contentImage&&e.block.contentImage.url?(t(),a("img",{key:0,src:c(re)(e.block.contentImage),alt:e.block.contentImage.alt||e.block.contentTitle||"Content Image",class:"w-3/5 h-auto object-cover rounded-lg shadow-md mt-6"},null,8,B)):r("",!0)],64)):r("",!0)]),o("div",S,[o("div",M,[e.block.formTitle?(t(),a("h3",P,d(e.block.formTitle),1)):r("",!0),o("form",{class:"space-y-5 flex-grow flex flex-col",onSubmit:u(ne,["prevent"])},[e.block.showNameField?(t(),a("div",_,[s[6]||(s[6]=o("label",{for:"contact-name",class:"block text-base font-medium text-brandNeutral-03 mb-1"},"Your Name",-1)),i(o("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>x.value=e),type:"text",name:"contact-name",id:"contact-name",placeholder:"Enter your name",required:Boolean(e.block.requireNameField),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brandTheme-01 focus:border-brandTheme-01 sm:text-base"},null,8,E),[[b,x.value]])])):r("",!0),o("div",null,[s[7]||(s[7]=o("label",{for:"contact-email",class:"block text-base font-medium text-brandNeutral-03 mb-1"},"Your Email",-1)),i(o("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>R.value=e),type:"email",name:"contact-email",id:"contact-email",placeholder:"Enter your email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brandTheme-01 focus:border-brandTheme-01 sm:text-base"},null,512),[[b,R.value]])]),e.block.showCompanyField?(t(),a("div",U,[s[8]||(s[8]=o("label",{for:"contact-company",class:"block text-base font-medium text-brandNeutral-03 mb-1"},"Company",-1)),i(o("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>X.value=e),type:"text",name:"contact-company",id:"contact-company",placeholder:"Company Name",required:Boolean(e.block.requireCompanyField),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brandTheme-01 focus:border-brandTheme-01 sm:text-base"},null,8,V),[[b,X.value]])])):r("",!0),e.block.showSubjectField?(t(),a("div",L,[s[9]||(s[9]=o("label",{for:"contact-subject",class:"block text-base font-medium text-brandNeutral-03 mb-1"},"Subject",-1)),i(o("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>Z.value=e),type:"text",name:"contact-subject",id:"contact-subject",placeholder:"Write your subject",required:Boolean(e.block.requireSubjectField),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brandTheme-01 focus:border-brandTheme-01 sm:text-base"},null,8,Y),[[b,Z.value]])])):r("",!0),e.block.showMessageField?(t(),a("div",A,[o("label",D,d(e.block.messageFieldLabel||"Your Message"),1),i(o("textarea",{"onUpdate:modelValue":s[4]||(s[4]=e=>ee.value=e),name:"contact-message",id:"contact-message",rows:"4",placeholder:"Write your message...",required:Boolean(e.block.requireMessageField),class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-brandTheme-01 focus:border-brandTheme-01 sm:text-base flex-grow"},null,8,O),[[b,ee.value]])])):r("",!0),e.block.link&&e.block.link.type?(t(),a("div",W,[o("label",z,[i(o("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>le.value=e),id:"agree-privacy-contact",name:"agree-privacy-contact",type:"checkbox",required:Boolean(e.block.link&&e.block.link.type),class:"h-4 w-4 text-brandTheme-01 border-gray-300 rounded focus:ring-brandTheme-01"},null,8,$),[[m,le.value]]),o("span",H,[p(d(e.block.privacyPolicyText||"By reaching out to us, you agree to our")+" ",1),k(oe,{to:ce(e.block.link),target:e.block.link.newTab?"_blank":void 0,class:"font-medium text-brandTheme-01 hover:text-brandTheme-01/80"},{default:y((()=>[p(d(e.block.link.label||"Privacy Policy."),1)])),_:1},8,["to","target"])])])])):r("",!0),te.value?(t(),a("div",{key:5,class:g(["mt-4 text-sm",{"text-green-600":"success"===ae.value,"text-red-600":"error"===ae.value}])},d(te.value),3)):r("",!0),o("div",J,[k(v,{type:"submit",variant:"primary",class:"w-full flex justify-center items-center",disabled:"loading"===ae.value},{default:y((()=>["loading"===ae.value?(t(),a("span",G,"Sending...")):(t(),a("span",K,d(e.block.submitButtonText||"Send Message"),1)),"loading"!==ae.value?(t(),a("svg",Q,s[10]||(s[10]=[o("path",{"fill-rule":"evenodd",d:"M2 10a.75.75 0 01.75-.75h12.59l-2.1-1.95a.75.75 0 111.02-1.1l3.5 3.25a.75.75 0 010 1.1l-3.5 3.25a.75.75 0 11-1.02-1.1l2.1-1.95H2.75A.75.75 0 012 10z","clip-rule":"evenodd"},null,-1)]))):r("",!0)])),_:1},8,["disabled"])])],32)])])])])])}}}),[["__scopeId","data-v-5b5a072e"]]);export{R as default};
